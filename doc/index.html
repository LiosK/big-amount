<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>big-amount</title>
	<meta name="description" content="Documentation for big-amount">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script async src="assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">big-amount</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<h1>big-amount</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#big-amount" id="big-amount" style="color: inherit; text-decoration: none;">
					<h1>big-amount</h1>
				</a>
				<p>BigInt-based rational number library focused on accounting</p>
				<ul>
					<li>Stores amount as ratio of two <code>BigInt</code>s, allowing precise calculation of
					arbitrarily large rational numbers</li>
					<li>Optimized for additions of numbers that share same denominator; little
					overhead on aggregating many cents (1/100)</li>
					<li>Supports rounding and formatting as decimal</li>
				</ul>
				<pre><code class="language-javascript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">q</span><span style="color: #000000">, </span><span style="color: #001080">BigAmount</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;big-amount&quot;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">let</span><span style="color: #000000"> </span><span style="color: #001080">x</span><span style="color: #000000"> = </span><span style="color: #795E26">q</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;1/2&quot;</span><span style="color: #000000">)           </span><span style="color: #008000">// Same as `BigAmount.create(&quot;1/2&quot;)`</span>
<span style="color: #000000">  .</span><span style="color: #795E26">neg</span><span style="color: #000000">()                   </span><span style="color: #008000">// Unary `-`</span>
<span style="color: #000000">  .</span><span style="color: #795E26">inv</span><span style="color: #000000">()                   </span><span style="color: #008000">// Inverse (`1 / x`)</span>
<span style="color: #000000">  .</span><span style="color: #795E26">add</span><span style="color: #000000">(</span><span style="color: #795E26">q</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;34.5&quot;</span><span style="color: #000000">))          </span><span style="color: #008000">// `+`</span>
<span style="color: #000000">  .</span><span style="color: #795E26">sub</span><span style="color: #000000">(</span><span style="color: #795E26">q</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;.67&quot;</span><span style="color: #000000">))           </span><span style="color: #008000">// `-`</span>
<span style="color: #000000">  .</span><span style="color: #795E26">mul</span><span style="color: #000000">(</span><span style="color: #795E26">q</span><span style="color: #000000">(-</span><span style="color: #098658">8</span><span style="color: #0000FF">n</span><span style="color: #000000">, </span><span style="color: #098658">9</span><span style="color: #0000FF">n</span><span style="color: #000000">))         </span><span style="color: #008000">// `*`</span>
<span style="color: #000000">  .</span><span style="color: #795E26">div</span><span style="color: #000000">(</span><span style="color: #795E26">q</span><span style="color: #000000">(</span><span style="color: #098658">10</span><span style="color: #000000">))              </span><span style="color: #008000">// `/`</span>
<span style="color: #000000">  .</span><span style="color: #795E26">abs</span><span style="color: #000000">()                   </span><span style="color: #008000">// To absolute value</span>
<span style="color: #000000">  .</span><span style="color: #795E26">reduce</span><span style="color: #000000">();               </span><span style="color: #008000">// To irreducible form</span>

<span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">x</span><span style="color: #000000">.</span><span style="color: #795E26">toString</span><span style="color: #000000">()); </span><span style="color: #008000">// &quot;1061/375&quot;</span>
<span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">x</span><span style="color: #000000">.</span><span style="color: #795E26">toFixed</span><span style="color: #000000">(</span><span style="color: #098658">6</span><span style="color: #000000">)); </span><span style="color: #008000">// &quot;2.829333&quot;</span>
</code></pre>
				<a href="#instance-creation" id="instance-creation" style="color: inherit; text-decoration: none;">
					<h2>Instance Creation</h2>
				</a>
				<a href="#q-and-bigamountcreate" id="q-and-bigamountcreate" style="color: inherit; text-decoration: none;">
					<h3><code>q</code> and BigAmount.create</h3>
				</a>
				<p>Use <a href="https://liosk.github.io/big-amount/doc/classes/bigamount.html#create">BigAmount.create</a> or the equivalent shortcut <code>q</code> to create an instance.</p>
				<p><code>BigAmount.create(x)</code> creates an instance representing <em>x / 1</em>.</p>
				<pre><code class="language-javascript"><span style="color: #795E26">q</span><span style="color: #000000">(</span><span style="color: #098658">123</span><span style="color: #0000FF">n</span><span style="color: #000000">);        </span><span style="color: #008000">// 123/1</span>
<span style="color: #795E26">q</span><span style="color: #000000">(</span><span style="color: #098658">123</span><span style="color: #000000">);         </span><span style="color: #008000">// 123/1</span>
<span style="color: #795E26">q</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;123&quot;</span><span style="color: #000000">);       </span><span style="color: #008000">// 123/1</span>
<span style="color: #795E26">q</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;123.45&quot;</span><span style="color: #000000">);    </span><span style="color: #008000">// 12345/100</span>
<span style="color: #795E26">q</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;123.45e-6&quot;</span><span style="color: #000000">); </span><span style="color: #008000">// 12345/100000000</span>

<span style="color: #795E26">q</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;123/45&quot;</span><span style="color: #000000">);    </span><span style="color: #008000">// 123/45</span>
<span style="color: #795E26">q</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;12.3/-4.5&quot;</span><span style="color: #000000">); </span><span style="color: #008000">// 1230/-450</span>
</code></pre>
				<p><code>BigAmount.create(x, y)</code> creates an instance representing <em>x / y</em>.</p>
				<pre><code class="language-javascript"><span style="color: #795E26">q</span><span style="color: #000000">(</span><span style="color: #098658">123</span><span style="color: #0000FF">n</span><span style="color: #000000">, </span><span style="color: #098658">45</span><span style="color: #0000FF">n</span><span style="color: #000000">);    </span><span style="color: #008000">// 123/45</span>
<span style="color: #795E26">q</span><span style="color: #000000">(</span><span style="color: #098658">123</span><span style="color: #000000">, </span><span style="color: #098658">45</span><span style="color: #000000">);      </span><span style="color: #008000">// 123/45</span>

<span style="color: #795E26">q</span><span style="color: #000000">(</span><span style="color: #098658">123</span><span style="color: #000000">, </span><span style="color: #098658">45</span><span style="color: #0000FF">n</span><span style="color: #000000">);     </span><span style="color: #008000">// 123/45</span>
<span style="color: #795E26">q</span><span style="color: #000000">(</span><span style="color: #098658">123</span><span style="color: #0000FF">n</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;4.5&quot;</span><span style="color: #000000">);  </span><span style="color: #008000">// 1230/45</span>

<span style="color: #795E26">q</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;1/2&quot;</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;3/4&quot;</span><span style="color: #000000">); </span><span style="color: #008000">// 4/6</span>
<span style="color: #795E26">q</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;1/2&quot;</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;3.4&quot;</span><span style="color: #000000">); </span><span style="color: #008000">// 10/68</span>
</code></pre>
				<p>Note that non-integer <code>number</code> values have to be passed as <code>string</code>.</p>
				<pre><code class="language-javascript"><span style="color: #795E26">q</span><span style="color: #000000">(</span><span style="color: #098658">123.45</span><span style="color: #000000">);   </span><span style="color: #008000">// ERROR!</span>
<span style="color: #795E26">q</span><span style="color: #000000">(</span><span style="color: #098658">123</span><span style="color: #000000"> / </span><span style="color: #098658">45</span><span style="color: #000000">); </span><span style="color: #008000">// ERROR!</span>
</code></pre>
				<a href="#bigamountfromnumber" id="bigamountfromnumber" style="color: inherit; text-decoration: none;">
					<h3>BigAmount.fromNumber</h3>
				</a>
				<p>Use <a href="https://liosk.github.io/big-amount/doc/classes/bigamount.html#fromnumber">BigAmount.fromNumber</a> to create an instance from a non-integer <code>number</code>
				value.</p>
				<pre><code class="language-javascript"><span style="color: #001080">BigAmount</span><span style="color: #000000">.</span><span style="color: #795E26">fromNumber</span><span style="color: #000000">(</span><span style="color: #267F99">Math</span><span style="color: #000000">.PI); </span><span style="color: #008000">// 3.14159...</span>
</code></pre>
				<a href="#arithmetic-operations" id="arithmetic-operations" style="color: inherit; text-decoration: none;">
					<h2>Arithmetic Operations</h2>
				</a>
				<table>
					<thead>
						<tr>
							<th>Methods</th>
							<th>Operation</th>
						</tr>
					</thead>
					<tbody><tr>
							<td><code>neg()</code></td>
							<td>Negation (unary <code>-</code>)</td>
						</tr>
						<tr>
							<td><code>add(other)</code></td>
							<td>Addition (<code>this + other</code>)</td>
						</tr>
						<tr>
							<td><code>sub(other)</code></td>
							<td>Subtraction(<code>this - other</code>)</td>
						</tr>
						<tr>
							<td><code>mul(other)</code></td>
							<td>Multiplication (<code>this * other</code>)</td>
						</tr>
						<tr>
							<td><code>div(other)</code></td>
							<td>Division (<code>this / other</code>)</td>
						</tr>
						<tr>
							<td><code>inv()</code></td>
							<td>Inverse (<code>1 / this</code>)</td>
						</tr>
						<tr>
							<td><code>abs()</code></td>
							<td>To absolute value</td>
						</tr>
						<tr>
							<td><code>reduce()</code></td>
							<td>To irreducible form</td>
						</tr>
				</tbody></table>
				<p><code>reduce()</code> needs to be called explicitly whenever necessary because the
					arithmetic operations do not return the canonical form of a resulting fraction.
					It is currently guaranteed that <code>add()</code> and <code>sub()</code> keep the denominator
					unchanged if both operands share the same denominator; in all other cases, the
				returned value will have implementation-dependent numerator and denominator.</p>
				<a href="#string-conversion" id="string-conversion" style="color: inherit; text-decoration: none;">
					<h2>String Conversion</h2>
				</a>
				<p><code>toString()</code> and <code>toJSON()</code> generate the preferred form to seriarize a rational
				number.</p>
				<pre><code class="language-javascript"><span style="color: #267F99">String</span><span style="color: #000000">(</span><span style="color: #795E26">q</span><span style="color: #000000">(</span><span style="color: #098658">123</span><span style="color: #0000FF">n</span><span style="color: #000000">, </span><span style="color: #098658">45</span><span style="color: #0000FF">n</span><span style="color: #000000">));        </span><span style="color: #008000">// &quot;123/45&quot;</span>
<span style="color: #267F99">JSON</span><span style="color: #000000">.</span><span style="color: #795E26">stringify</span><span style="color: #000000">(</span><span style="color: #795E26">q</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;12.345&quot;</span><span style="color: #000000">)); </span><span style="color: #008000">// &#039;&quot;12345/1000&quot;&#039;</span>
</code></pre>
				<p>Use <a href="https://liosk.github.io/big-amount/doc/classes/bigamount.html#tofixed">BigAmount#toFixed</a> to format a value as decimal. This method takes a few
				formatting options to customize the output.</p>
				<pre><code class="language-javascript"><span style="color: #0000FF">let</span><span style="color: #000000"> </span><span style="color: #001080">x</span><span style="color: #000000"> = </span><span style="color: #001080">BigAmount</span><span style="color: #000000">.</span><span style="color: #795E26">create</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;123456789/10&quot;</span><span style="color: #000000">);</span>
<span style="color: #001080">x</span><span style="color: #000000">.</span><span style="color: #795E26">toFixed</span><span style="color: #000000">(</span><span style="color: #098658">2</span><span style="color: #000000">);                            </span><span style="color: #008000">// &quot;12345678.90&quot;</span>
<span style="color: #001080">x</span><span style="color: #000000">.</span><span style="color: #795E26">toFixed</span><span style="color: #000000">(</span><span style="color: #098658">2</span><span style="color: #000000">, { </span><span style="color: #001080">decimalSeparator:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;,&quot;</span><span style="color: #000000"> }); </span><span style="color: #008000">// &quot;12345678,90&quot;</span>
<span style="color: #001080">x</span><span style="color: #000000">.</span><span style="color: #795E26">toFixed</span><span style="color: #000000">(</span><span style="color: #098658">2</span><span style="color: #000000">, { </span><span style="color: #001080">groupSeparator:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;,&quot;</span><span style="color: #000000"> });   </span><span style="color: #008000">// &quot;12,345,678.90&quot;</span>
</code></pre>
				<p><a href="https://liosk.github.io/big-amount/doc/classes/bigamount.html#tofixed">BigAmount#toFixed</a> by default rounds ties to the nearest even (i.e. bankers&#39;
				rounding).</p>
				<pre><code class="language-javascript"><span style="color: #795E26">q</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;1.15&quot;</span><span style="color: #000000">).</span><span style="color: #795E26">toFixed</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">) </span><span style="color: #008000">// &quot;1.2&quot;</span>
<span style="color: #795E26">q</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;1.25&quot;</span><span style="color: #000000">).</span><span style="color: #795E26">toFixed</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">) </span><span style="color: #008000">// &quot;1.2&quot;</span>
</code></pre>
				<a href="#license" id="license" style="color: inherit; text-decoration: none;">
					<h2>License</h2>
				</a>
				<p>Copyright 2021 LiosK</p>
				<p>Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); you may not use
					this file except in compliance with the License. You may obtain a copy of the
				License at</p>
				<p><a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>
				<p>Unless required by applicable law or agreed to in writing, software distributed
					under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR
					CONDITIONS OF ANY KIND, either express or implied. See the License for the
				specific language governing permissions and limitations under the License.</p>
				<a href="#see-also" id="see-also" style="color: inherit; text-decoration: none;">
					<h2>See Also</h2>
				</a>
				<ul>
					<li><a href="https://www.npmjs.com/package/big-amount">npm package</a></li>
					<li><a href="https://github.com/LiosK/big-amount">GitHub repository</a></li>
					<li><a href="https://liosk.github.io/big-amount/doc/">Auto-generated API documentation</a></li>
					<li><a href="https://liosk.github.io/big-amount/test/run_on_browser.html">Run tests on your browser</a></li>
				</ul>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="modules.html">Exports</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-class">
						<a href="classes/bigamount.html" class="tsd-kind-icon">Big<wbr>Amount</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="modules.html#roundingmode" class="tsd-kind-icon">Rounding<wbr>Mode</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#q" class="tsd-kind-icon">q</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>